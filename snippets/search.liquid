{%- doc -%}
  Renders the search action button.

  @param {string} [style] - The style of the search action.
  @param {string} [class] - Additional classes for the search action.

  @example
  {% render 'search', style: 'default', class: 'custom-class' %}
{%- enddoc -%}

{% unless style == 'none' %}
  <search-button class="search-action{% if class != blank %} {{ class | strip }}{% endif %}">
    <div class="search-action__input-wrapper">
      <span class="svg-wrapper search-action__icon" aria-hidden="true">
        {{ 'icon-search.svg' | inline_asset_content }}
      </span>
      <input
        type="search"
        class="search-action__input"
        placeholder="{{ 'content.search_input_placeholder' | t }}"
        aria-label="{{ 'content.search_input_label' | t }}"
        aria-haspopup="dialog"
        on:click="#search-modal/showDialog"
      >
    </div>
  </search-button>
{% endunless %}

{% stylesheet %}
  .search-action {
    --search-border-radius: var(--style-border-radius-inputs);
    --search-border-width: var(--style-border-width-inputs);

    display: flex;
    flex: 1;
    max-width: 100%;
  }

  .search-action__input-wrapper {
    position: relative;
    display: flex;
    align-items: center;
    width: 100%;
    background-color: #f0f0f0;
    border-radius: 100px;
    border: var(--search-border-width) solid transparent;
    padding: 0.75rem 1.25rem;
    gap: 0.75rem;
    cursor: text;
    transition: background-color 0.2s ease, border-color 0.2s ease;
  }

  .search-action__input-wrapper:hover {
    background-color: rgba(0, 0, 0, 0.08);
  }

  .search-action__input-wrapper:focus-within {
    background-color: rgba(0, 0, 0, 0.1);
    border-color: var(--color-text);
  }

  .search-action__icon {
    display: flex;
    align-items: center;
    justify-content: center;
    flex-shrink: 0;
    width: 1.5rem;
    height: 1.5rem;
    color: rgba(0, 0, 0, 0.5);
  }

  .search-action__input {
    flex: 1;
    background: transparent;
    border: none;
    outline: none;
    font-size: inherit;
    font-family: inherit;
    color: var(--color-text);
    width: 100%;
    cursor: pointer;
    font-family: 'Satoshi', sans-serif;
  }

  .search-action__input::placeholder {
    color: rgba(0, 0, 0, 0.5);
  }

  @media screen and (max-width: 749px) {
    .search-action {
      max-width: 80%;
    }

    .search-action--hidden-on-drawer {
      display: none;
    }
  }

  @media screen and (min-width: 750px) {
    [data-menu-style='drawer'] .search-action--hidden-on-drawer {
      display: none;
    }

    [data-menu-style='menu'] .search-action--hidden-on-menu {
      display: none;
    }
  }

  [data-menu-style='menu'] .header__column--left .search-action {
    @media screen and (min-width: 750px) {
      margin-inline: calc(var(--padding-lg) * -1);
    }
  }

  .header__column--right .search-action {
    margin: 0;
    @media screen and (min-width: 750px) {
      margin-inline: calc(var(--gap-md) * -1) calc(var(--gap-xs) * -1);
    }
  }
{% endstylesheet %}
